<!-- <script src="http://cdn.sockjs.org/sockjs-0.3.min.js"></script> -->
<!-- 这个是直接用真正的websocket的样例，不用跨域 -->
<script src="sockjs-0.js"></script>
<script src="stomp.js"></script>
  <script>
    // use SockJS implementation instead of the browser's native implementation
    var login = "gooduser";
    var passcode= "passwd1";
    //var host = "dev1.etgbroker.com";
    var host = "localhost"
    // var url = "ws://localhost:61613/stomp";
    // var url = "ws://dev1.etgbroker.com:61615/stomp";
    // var url = "wss://price.etgbroker.com:61616/stomp";
    var url = "wss://price.etgbroker.com:61615/stomp";
    
    
    var client = Stomp.client(url);
    var onmessage = function(message) {
        console.log(message);
    }
    var connect_callback = function() {
        console.log("stomp connected");
        var sub1 = client.subscribe("quote.real_default.BTCUSD.v2", onmessage);
        // var sub2 = client.subscribe("quote.real_default.USDJPY.v2", onmessage);
        //var sub3 = client.subscribe("quote.real_default.EURUSD.v2", onmessage);
	
	var sub3 = client.subscribe("quote.demo_default.BTCUSD?format=v2&throttle=1", onmessage);
    };
  var error_callback = function(error) {
    // display the error's message header:
    console.log(error);
  };
  client.connect(login, passcode, connect_callback, error_callback, host);
  
  // var sub2 = client.subscribe("queue/another", onmessage);
  
  </script>
